/* ***************************************************************
* Autor............: Guilherme Oliveira
* Inicio...........: 22/06/2024 - 15:09
* Ultima alteracao.: 01/07/2024 - 17:00
* Nome.............: Transito Automato
* Funcao...........: Classe responsavel pela criacao, organizacao e ordem dos semaforos que serao requeridos por cada carro
*************************************************************** */
package util;

import java.util.concurrent.Semaphore;

public class Semaforos
{ 
  private Semaphore[][] semaforosDosCarros;
  
  /* ***************************************************************
  * Metodo: construtor
  * Funcao: Inicia o tamanho de cada vetor pertencente ao vetor bidimensional
  * Parametros: quantidadeDeCarros
  * Retorno: nenhum
  *************************************************************** */
  public Semaforos(int quantidadeDeCarros)
  {
    semaforosDosCarros = new Semaphore[quantidadeDeCarros][];
    semaforosDosCarros[0] = new Semaphore[27];
    semaforosDosCarros[1] = new Semaphore[27];
    semaforosDosCarros[2] = new Semaphore[19];
    semaforosDosCarros[3] = new Semaphore[21];
    semaforosDosCarros[4] = new Semaphore[12];
    semaforosDosCarros[5] = new Semaphore[21];
    semaforosDosCarros[6] = new Semaphore[22];
    semaforosDosCarros[7] = new Semaphore[24];
  }//fim do construtor
  
  /* ***************************************************************
  * Metodo: inicializaSemaforos
  * Funcao: Inicializa e reinicializa todos os semaforos
  * Parametros: nenhum
  * Retorno: void
  *************************************************************** */
  public void inicializaSemaforos()
  {
    //---------------------------------------------- SEMAFORO [  01  ] ----------------------------------------------
                                                            semaforosDosCarros[4][7]  =
    semaforosDosCarros[3][13] = semaforosDosCarros[2][4]  = semaforosDosCarros[1][18] = semaforosDosCarros[0][2]  = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  02  ] ----------------------------------------------    
                                semaforosDosCarros[6][10] =                             semaforosDosCarros[4][4]  = 
                                semaforosDosCarros[2][9]  = semaforosDosCarros[1][23] = semaforosDosCarros[0][4]  = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------    
                     
    //---------------------------------------------- SEMAFORO [  03  ] ---------------------------------------------- 
                          
                                                            semaforosDosCarros[1][1]  = semaforosDosCarros[0][13] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  04  ] ---------------------------------------------- 
                                                            semaforosDosCarros[5][15] =
                                                            semaforosDosCarros[1][14] = semaforosDosCarros[0][25] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
                                               
    //---------------------------------------------- SEMAFORO [  05  ] ---------------------------------------------- 
                                               
                                semaforosDosCarros[2][14] = semaforosDosCarros[1][3]  = semaforosDosCarros[0][19] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  06  ] ---------------------------------------------- 
                                semaforosDosCarros[6][5]  = semaforosDosCarros[5][16] =
    semaforosDosCarros[3][11] = semaforosDosCarros[2][2]  = semaforosDosCarros[1][16] = semaforosDosCarros[0][26] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  07  ] ---------------------------------------------- 
    
    semaforosDosCarros[3][12] = semaforosDosCarros[2][3]  = semaforosDosCarros[1][17] =                             new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  08  ] ------ INICIAL CARRO 1 ----------------------- 
    semaforosDosCarros[7][7]  =                             semaforosDosCarros[5][9]  =
                                semaforosDosCarros[2][12] = semaforosDosCarros[1][26] =                             new Semaphore(0);
    //---------------------------------------------------------------------------------------------------------------
                          
    //---------------------------------------------- SEMAFORO [  09  ] ---------------------------------------------- 
                    
    semaforosDosCarros[3][10] = semaforosDosCarros[2][1]  = semaforosDosCarros[1][15] =                             new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  10  ] ---------------------------------------------- 
    
    semaforosDosCarros[3][4]  =                             semaforosDosCarros[1][6]  = semaforosDosCarros[0][16] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  11  ] ---------------------------------------------- 
    semaforosDosCarros[7][14] =  
    semaforosDosCarros[3][8]  = semaforosDosCarros[2][18] = semaforosDosCarros[1][8]  = semaforosDosCarros[0][20] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  12  ] ------ INICIAL CARRO 2 ----------------------- 
    semaforosDosCarros[7][11] =  
    semaforosDosCarros[3][7]  = semaforosDosCarros[2][17] =                                                         new Semaphore(0);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  13  ] ---------------------------------------------- 
                                                            semaforosDosCarros[5][18] =
    semaforosDosCarros[3][2]  =                             semaforosDosCarros[1][13] =                             new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  14  ] ---------------------------------------------- 
                                                                                        semaforosDosCarros[4][5]  =    
    semaforosDosCarros[3][19] = semaforosDosCarros[2][10] = semaforosDosCarros[1][24] = semaforosDosCarros[0][8]  = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  15  ] ---------------------------------------------- 
                                                                                        semaforosDosCarros[4][1]  =
    semaforosDosCarros[3][17] =                                                         semaforosDosCarros[0][6]  = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  16  ] ---------------------------------------------- 
                                                                                        semaforosDosCarros[4][9]  =    
    semaforosDosCarros[3][1]  =                                                                                     new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  17  ] ------ INICIAL CARRO 4 ----------------------- 
                                                                                        semaforosDosCarros[4][10] =
                                                                                        semaforosDosCarros[0][0]  = new Semaphore(0);
    //---------------------------------------------------------------------------------------------------------------
                                                                     
    //---------------------------------------------- SEMAFORO [  18  ] ---------------------------------------------- 
                                                            semaforosDosCarros[5][14] =
                                                            semaforosDosCarros[1][11] =                             new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  19  ] ---------------------------------------------- 
                                                            semaforosDosCarros[5][20] =
                                                            semaforosDosCarros[1][12] = semaforosDosCarros[0][15] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  20  ] ------ INICIAL CARRO 5 ----------------------- 
    semaforosDosCarros[7][18] =                             semaforosDosCarros[5][19] =
                                                                                        semaforosDosCarros[0][11] = new Semaphore(0);
    //---------------------------------------------------------------------------------------------------------------
                                                                    
    //---------------------------------------------- SEMAFORO [  21  ] ----------------------------------------------
    semaforosDosCarros[7][19] =                             semaforosDosCarros[5][0]  = semaforosDosCarros[4][11] =
                                                                                        semaforosDosCarros[0][12] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  22  ] ---------------------------------------------- 
    semaforosDosCarros[7][22] =                             semaforosDosCarros[5][3]  = 
    semaforosDosCarros[3][20] =                                                                                     new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  23  ] ----------------------------------------------
    semaforosDosCarros[7][4]  =                             semaforosDosCarros[5][6]  =  
    semaforosDosCarros[3][16] = semaforosDosCarros[2][8]  = semaforosDosCarros[1][22] =                             new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  24  ] ---------------------------------------------- 
                                                            semaforosDosCarros[5][10] =
                                                                                        semaforosDosCarros[0][22] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
       
    //---------------------------------------------- SEMAFORO [  25  ] ---------------------------------------------- 
                                                            semaforosDosCarros[5][11] =
                                semaforosDosCarros[2][16] = semaforosDosCarros[1][5]  = semaforosDosCarros[0][23] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  26  ] ----------------------------------------------
    semaforosDosCarros[7][6]  = semaforosDosCarros[6][11] = semaforosDosCarros[5][8]  = semaforosDosCarros[4][6]  = 
                                semaforosDosCarros[2][11] = semaforosDosCarros[1][25] = semaforosDosCarros[0][5]  = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  27  ] ------ ANTI DEADLOCK -------------------------  
                                                            semaforosDosCarros[5][13] = 
                                                            semaforosDosCarros[1][0]  = semaforosDosCarros[0][9]  = new Semaphore(2);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  28  ] ------ INICIAL CARRO 6 -----------------------  
                                semaforosDosCarros[6][20] = 
                                                                                        semaforosDosCarros[0][14] = new Semaphore(0);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  29  ] ---------------------------------------------- 
                                semaforosDosCarros[6][0]  = 
    semaforosDosCarros[3][5]  =                                                                                     new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  30  ] ---------------------------------------------- 
                                semaforosDosCarros[6][19] = semaforosDosCarros[5][17] = 
                                                                                                                    new Semaphore(1); 
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  31  ] ---------------------------------------------- 
                                semaforosDosCarros[6][17] = 
    semaforosDosCarros[3][0]  =                                                                                     new Semaphore(1); 
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  32  ] ---------------------------------------------- 
                                semaforosDosCarros[6][15] =                             semaforosDosCarros[4][8]  = 
                                                                                                                    new Semaphore(1); 
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  33  ] ---------------------------------------------- 
                                semaforosDosCarros[6][16] = 
                                                                                        semaforosDosCarros[0][1]  = new Semaphore(1); 
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  34  ] ---------------------------------------------- 
                                semaforosDosCarros[6][2]  = 
    semaforosDosCarros[3][9]  = semaforosDosCarros[2][0]  =                                                         new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  35  ] ---------------------------------------------- 
                                semaforosDosCarros[6][13] = semaforosDosCarros[5][4]  = 
                                                                                                                    new Semaphore(1); 
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  36  ] ---------------------------------------------- 
                                semaforosDosCarros[6][9]  = 
                                semaforosDosCarros[2][6]  = semaforosDosCarros[1][20] =                             new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  37  ] ---------------------------------------------- 
                                semaforosDosCarros[6][4]  = semaforosDosCarros[5][12] = 
                                                                                        semaforosDosCarros[0][24] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  38  ] ---------------------------------------------- 
                                semaforosDosCarros[6][7]  =                             semaforosDosCarros[4][3]  =
                                                                                                                    new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  39  ] ------ INICIAL CARRO 6 -----------------------  
                                semaforosDosCarros[6][18] = 
                                                            semaforosDosCarros[1][9]  =                             new Semaphore(0);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  40  ] ----------------------------------------------
                                semaforosDosCarros[6][8]  = 
                                                                                        semaforosDosCarros[0][3]  = new Semaphore(1); 
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  41  ] ---------------------------------------------- 
    semaforosDosCarros[7][1]  = semaforosDosCarros[6][12] = 
    semaforosDosCarros[3][15] = semaforosDosCarros[2][7]  = semaforosDosCarros[1][21] =                             new Semaphore(1); 
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  42  ] ------ ANTI DEADLOCK -------------------------  
    semaforosDosCarros[7][0]  = semaforosDosCarros[6][6]  =                             semaforosDosCarros[4][0]  = 
    semaforosDosCarros[3][14] = semaforosDosCarros[2][5]  = semaforosDosCarros[1][19] =                             new Semaphore(2);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  43  ] ---------------------------------------------- 
    semaforosDosCarros[7][17] = semaforosDosCarros[6][21] = 
                                                            semaforosDosCarros[1][10] =                             new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    
    //---------------------------------------------- SEMAFORO [  44  ] ---------------------------------------------- 
    semaforosDosCarros[7][20] =                             semaforosDosCarros[5][1]  =
                                                                                                                    new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  45  ] ---------------------------------------------- 
    semaforosDosCarros[7][21] =                             semaforosDosCarros[5][2]  =
                                                                                                                    new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  46  ] ---------------------------------------------- 
    semaforosDosCarros[7][23] = semaforosDosCarros[6][14] =
                                                                                                                    new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  47  ] ---------------------------------------------- 
    semaforosDosCarros[7][13] =  
                                                            semaforosDosCarros[1][7]  = semaforosDosCarros[0][18] = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  48  ] ---------------------------------------------- 
    semaforosDosCarros[7][15] = semaforosDosCarros[6][1]  =
                                                                                                                    new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  49  ] ----------------------------------------------
    semaforosDosCarros[7][12] = semaforosDosCarros[6][3]  =
                                                                                                                    new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  50  ] ---------------------------------------------- 
    semaforosDosCarros[7][2]  =                                                         semaforosDosCarros[4][2]  =
    semaforosDosCarros[3][18] =                                                         semaforosDosCarros[0][7]  = new Semaphore(1);
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  51  ] ----------------------------------------------
    semaforosDosCarros[7][3] =                              semaforosDosCarros[5][5]  = 
                                                                                                                    new Semaphore(1); 
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  52  ] ---------------------------------------------- 
    semaforosDosCarros[7][5]  =                             semaforosDosCarros[5][7]  = 
                                                                                                                    new Semaphore(1);   
    //---------------------------------------------------------------------------------------------------------------

    
    //---------------------------------------------- SEMAFORO [  53  ] ---------------------------------------------- 
    semaforosDosCarros[7][8]  =  
                                semaforosDosCarros[2][15] = semaforosDosCarros[1][4]  = semaforosDosCarros[0][21] = new Semaphore(1);  
    //---------------------------------------------------------------------------------------------------------------
  
    //---------------------------------------------- SEMAFORO [  54  ] ---------------------------------------------- 
    semaforosDosCarros[7][16] = 
                                                                                        semaforosDosCarros[0][10] = new Semaphore(1);  
    //---------------------------------------------------------------------------------------------------------------
   
    //---------------------------------------------- SEMAFORO [  55  ] ---------------------------------------------- 
    semaforosDosCarros[7][10] =  
    semaforosDosCarros[3][6]  =                                                                                     new Semaphore(1);   
    //---------------------------------------------------------------------------------------------------------------
    
    //---------------------------------------------- SEMAFORO [  56  ] ------ ANTI DEADLOCK -------------------------
    semaforosDosCarros[7][9]  =  
    semaforosDosCarros[3][3]  = semaforosDosCarros[2][13] = semaforosDosCarros[1][2]  = semaforosDosCarros[0][17] = new Semaphore(2);
    //---------------------------------------------------------------------------------------------------------------
  }//fim do inicializaSemaforos
  
  /* ***************************************************************
  * Metodo: getSemaforos
  * Funcao: Retorna um vetor de semaforo de acordo com o indice recebido
  * Parametros: indice = indice do vetor de semaforos
  * Retorno: Semaphore[] = vetor de semaforos
  *************************************************************** */
  public Semaphore[] getSemaforos(int indice)
  {
    return semaforosDosCarros[indice];
  }//fim do getSemaforos
}//fim da classe Semaforos
